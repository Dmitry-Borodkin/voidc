{   v_import("voidc_target.void");

    v_import("llvm-c/Core.void");
}

{   v_import("printf.void"); }


{
    v = v_target_get_voidc_global_ctx();
    t = v_target_get_global_ctx();

    printf("voidc:  %p\n", v);
    printf("target: %p\n", t);
}

{
    gctx = v_target_create_global_ctx(4, 8, 8);

    v_add_local_symbol("my_gctx", v_target_opaque_global_ctx, gctx);


    lctx = v_target_create_local_ctx("<target test>", gctx);

    v_add_local_symbol("my_lctx", v_target_opaque_local_ctx, lctx);


    v_target_set_global_ctx(gctx);
}


{
    v = v_target_get_voidc_global_ctx();
    t = v_target_get_global_ctx();

    printf("voidc:  %p\n", v);
    printf("target: %p\n", t);
}


{
    i256 = LLVMIntType(256);

    v_add_local_symbol("i256", LLVMOpaqueType, i256);

    printf("i256:  %p\n", i256);
}

{
    i256_ = v_find_type("i256");

    printf("i256_: %p\n", i256_);
}


{   t = v_find_symbol_type("printf");

    printf("printf type: %p\n", t);
}

{   v_import("printf.void"); }

{   t = v_find_symbol_type("printf");

    printf("printf type: %p\n", t);
}



{
    vctx = v_target_get_voidc_global_ctx();

    v_target_set_global_ctx(vctx);


    v_target_destroy_local_ctx(my_lctx);
    v_target_destroy_global_ctx(my_gctx);
}

{
    i256_ = v_find_type("i256");

    printf("i256_: %p\n", i256_);
}


